webpackJsonp([1],{"1uuo":function(e,t){},"5nul":function(e,t){},"6blC":function(e,t){},HJw1:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("7+uW"),r=o("NYxO"),s=o("zL8q"),l=o.n(s),i=(o("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var n=o("VU/8")({name:"App"},i,!1,function(e){o("mFdt")},null,null).exports,d=o("/ocq"),c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("h1",[e._v(e._s(e.msg))]),e._v(" "),o("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),o("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),o("br"),e._v(" "),o("li",[o("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};o("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},c,!1,function(e){o("1uuo")},"data-v-d8ec41bc",null).exports;var u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button",{on:{click:function(t){e.visible=!0}}},[e._v("按钮")]),e._v(" "),o("el-dialog",{attrs:{visible:e.visible,title:"Hello world"},on:{"update:visible":function(t){e.visible=t}}},[o("p",[e._v("欢迎使用 Element")])])],1)},staticRenderFns:[]};var g=o("VU/8")({name:"EleUI",data:function(){return{visible:!1}}},u,!1,function(e){o("UJ7L")},"data-v-40d98444",null).exports,m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"con"}},[o("el-radio-group",{attrs:{size:"small"},model:{value:e.labelPosition,callback:function(t){e.labelPosition=t},expression:"labelPosition"}},[o("el-radio-button",{attrs:{label:"left"}},[e._v("左对齐")]),e._v(" "),o("el-radio-button",{attrs:{label:"right"}},[e._v("右对齐")]),e._v(" "),o("el-radio-button",{attrs:{label:"top"}},[e._v("顶部对齐")])],1),e._v(" "),o("div",{staticStyle:{margin:"20px"}}),e._v(" "),o("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.formLabelAlign}},[o("el-form-item",{attrs:{label:"名称"}},[o("el-input",{model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"活动区域"}},[o("el-input",{model:{value:e.formLabelAlign.region,callback:function(t){e.$set(e.formLabelAlign,"region",t)},expression:"formLabelAlign.region"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"活动形式"}},[o("el-input",{model:{value:e.formLabelAlign.type,callback:function(t){e.$set(e.formLabelAlign,"type",t)},expression:"formLabelAlign.type"}})],1)],1)],1)},staticRenderFns:[]};var p=o("VU/8")({name:"EleUI_demo1",data:function(){return{labelPosition:"right",formLabelAlign:{name:"",region:"",type:""}}}},m,!1,function(e){o("HJw1")},"data-v-142b1aec",null).exports,v=o("mtWM"),h=o.n(v),f={data:function(){return{userFrm:{userName:"",password:""},rules:{userName:[{validator:function(e,t,o){t?o():o(new Error("用户名不能为空"))},trigger:"blur"}],password:[{validator:function(e,t,o){t?o():o(new Error("请输入密码"))},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("校验失败"),!1;var o=t.$Api.globalUrl+"/login";h.a.get(o,{params:t.userFrm}).then(function(e){e.data?(t.$store.commit("setAdminUser",e.data),t.$router.push("/main_frame")):alert("用户名或密码不正确")},function(e){alert("promise处理失败了:"+e)}).catch(function(e){alert("promise异常:"+e)})})},resetForm:function(e){this.$refs[e].resetFields()}}},b={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("用户登录")])]),e._v(" "),o("div",[o("el-form",{ref:"userFrm",staticClass:"demo-ruleForm",attrs:{model:e.userFrm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"账号",prop:"userName"}},[o("el-input",{model:{value:e.userFrm.userName,callback:function(t){e.$set(e.userFrm,"userName",t)},expression:"userFrm.userName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.userFrm.password,callback:function(t){e.$set(e.userFrm,"password",t)},expression:"userFrm.password"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userFrm")}}},[e._v("登陆")]),e._v(" "),o("el-button",{on:{click:function(t){return e.resetForm("userFrm")}}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]};var _=o("VU/8")(f,b,!1,function(e){o("v4/S")},"data-v-4fdedbeb",null).exports,F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",{staticStyle:{height:"100%"}},[o("el-header",[o("div",{staticClass:"logo"},[o("i",{staticClass:"el-icon-setting"}),e._v("MY系统-"+e._s(e.adminUser.userName)+"\n    ")]),e._v(" "),o("div",{staticClass:"info"},[o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-user-solid"}),e._v(" "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("span",{on:{click:e.logout}},[e._v("注销")])])],1)],1),e._v(" "),o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-s-tools"}),e._v(" "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[e._v("设置")])],1)],1),e._v(" "),o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-phone-outline"}),e._v(" "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[e._v("个人信息")])],1)],1)],1)]),e._v(" "),o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("router-view")],1),e._v(" "),o("el-main",[o("router-view",{attrs:{name:"main_view"}})],1)],1)],1)},staticRenderFns:[]};var D=o("VU/8")({name:"MainFrame",data:function(){return{adminUser:this.$store.getters.getAdminUser}},methods:{logout:function(){this.$store.commit("setAdminUser",null),this.$router.push("/admin_login")}}},F,!1,function(e){o("nWrD")},"data-v-08056555",null).exports,y={name:"GoodsMgr",data:function(){return{searchFrm:{goodsName:"",startDate:"",endDate:"",pageNum:1,pageSize:5},goodsDate:"",pi:{},pageSizes:[3,5,10],goodsDialog:{title:"商品添加",visible:!1,lableWidth:"80px",width:"400px",goodsFrm:{goodsId:"",goodsName:"",price:"",address:"",produceDate:"",category:{categoryId:"",categoryName:""}},rules:{goodsName:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:30,message:"长度在2到30个字符",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],address:[{required:!0,message:"请选择产地",trigger:"change"},{min:2,max:10,message:"长度在2到10个字符",trigger:"change"}],produceDate:[{type:"string",required:!0,message:"请选择日期",trigger:"blur"}],"category.categoryId":[{required:!0,message:"请选择分类",trigger:"change"}]}},categoryList:[]}},mounted:function(){this.searchGoods()},methods:{searchGoods:function(){var e=this;this.goodsDate&&(this.searchFrm.startDate=this.goodsDate[0],this.searchFrm.endDate=this.goodsDate[1]);var t=this.$Api.globalUrl+"/goods/list";h.a.get(t,{params:this.searchFrm}).then(function(t){e.pi=t.data});var o=this.$Api.globalUrl+"/category/list";h.a.get(o).then(function(t){e.categoryList=t.data})},handleSizeChange:function(e){this.searchFrm.pageSize=e,this.searchGoods()},handleCurrentChange:function(e){this.searchFrm.pageNum=e,this.searchGoods()},handleDialogOpen:function(){console.log("---打开对话框---"),this.$refs["goodsDialog.goodsFrm"].clearValidate()},handleAdd:function(){console.log("---通过添加按钮打开页面---"),this.goodsDialog.title="商品添加",this.goodsDialog.visible=!0,this.goodsDialog.goodsFrm.goodsId="",this.goodsDialog.goodsFrm.goodsName="",this.goodsDialog.goodsFrm.price="",this.goodsDialog.goodsFrm.address="",this.goodsDialog.goodsFrm.produceDate="",this.goodsDialog.goodsFrm.category.categoryId=""},handleEdit:function(e,t){console.log("---通过修改按钮打开页面---"),this.goodsDialog.title="商品修改",this.goodsDialog.visible=!0,this.goodsDialog.goodsFrm.goodsId=t.goodsId,this.goodsDialog.goodsFrm.goodsName=t.goodsName,this.goodsDialog.goodsFrm.price=t.price,this.goodsDialog.goodsFrm.address=t.address,this.goodsDialog.goodsFrm.produceDate=t.produceDate,this.goodsDialog.goodsFrm.category.categoryId=t.category.categoryId,console.log("--------edit--------"),console.log(this.$refs["goodsDialog.goodsFrm"]),console.log(e),console.log(t)},handleDelete:function(e,t){var o=this,a=this.$Api.globalUrl+"/goods/delete/"+t.goodsId;h.a.delete(a).then(function(e){o.searchGoods()})},handleSubmit:function(){var e=this;this.$refs["goodsDialog.goodsFrm"].validate(function(t){if(!t)return alert("校验失败"),!1;var o=e.$Api.globalUrl+"/goods/";e.goodsDialog.goodsFrm.goodsId?o+="update":o+="add",alert(o),h.a.post(o,e.goodsDialog.goodsFrm).then(function(t){0==t.data.code&&(alert("提交成功"),e.goodsDialog.visible=!1,e.searchGoods())})})}}},w={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("商品管理")]),e._v(" "),o("el-button",{staticStyle:{float:"right",padding:"3px 3px"},attrs:{type:"text"},on:{click:e.handleAdd}},[e._v("商品添加")])],1),e._v(" "),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchFrm}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{attrs:{placeholder:"商品名称"},model:{value:e.searchFrm.goodsName,callback:function(t){e.$set(e.searchFrm,"goodsName",t)},expression:"searchFrm.goodsName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"生产日期"}},[o("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.goodsDate,callback:function(t){e.goodsDate=t},expression:"goodsDate"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.searchGoods}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pi.list,height:"300",border:""}},[o("el-table-column",{attrs:{prop:"goodsId",label:"编号",width:"80"}}),e._v(" "),o("el-table-column",{attrs:{prop:"goodsName",label:"名称",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"price",label:"价格"}}),e._v(" "),o("el-table-column",{attrs:{prop:"address",label:"产地"}}),e._v(" "),o("el-table-column",{attrs:{prop:"produceDate",label:"生产日期"}}),e._v(" "),o("el-table-column",{attrs:{prop:"category.categoryName",label:"分类"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{onConfirm:function(o){return e.handleDelete(t.$index,t.row)}}},[o("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes,prev, pager, next,jumper,->,total,slot","current-page":e.searchFrm.pageNum,"page-size":e.searchFrm.pageSize,"page-sizes":e.pageSizes,total:e.pi.total,"hide-on-single-page":!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.searchFrm,"pageNum",t)},"update:current-page":function(t){return e.$set(e.searchFrm,"pageNum",t)}}})],1),e._v(" "),o("el-dialog",{attrs:{title:e.goodsDialog.title,visible:e.goodsDialog.visible,width:e.goodsDialog.width},on:{"update:visible":function(t){return e.$set(e.goodsDialog,"visible",t)},opened:e.handleDialogOpen}},[o("el-form",{ref:"goodsDialog.goodsFrm",attrs:{model:e.goodsDialog.goodsFrm,rules:e.goodsDialog.rules,"label-position":"left"}},[o("el-form-item",{attrs:{label:"商品名称","label-width":e.goodsDialog.lableWidth,prop:"goodsName"}},[o("el-input",{attrs:{autocomplete:"off",size:"small"},model:{value:e.goodsDialog.goodsFrm.goodsName,callback:function(t){e.$set(e.goodsDialog.goodsFrm,"goodsName",t)},expression:"goodsDialog.goodsFrm.goodsName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"价格","label-width":e.goodsDialog.lableWidth,prop:"price"}},[o("el-input",{attrs:{autocomplete:"off",size:"small"},model:{value:e.goodsDialog.goodsFrm.price,callback:function(t){e.$set(e.goodsDialog.goodsFrm,"price",t)},expression:"goodsDialog.goodsFrm.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"产地","label-width":e.goodsDialog.lableWidth,prop:"address"}},[o("el-col",{attrs:{span:24}},[o("el-select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.goodsDialog.goodsFrm.address,callback:function(t){e.$set(e.goodsDialog.goodsFrm,"address",t)},expression:"goodsDialog.goodsFrm.address"}},[o("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),o("el-option",{attrs:{label:"河南",value:"河南"}}),e._v(" "),o("el-option",{attrs:{label:"北京",value:"北京"}}),e._v(" "),o("el-option",{attrs:{label:"山东",value:"山东"}}),e._v(" "),o("el-option",{attrs:{label:"上海",value:"上海"}})],1)],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"生产日期","label-width":e.goodsDialog.lableWidth,prop:"produceDate"}},[o("el-col",{attrs:{span:24}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.goodsDialog.goodsFrm.produceDate,callback:function(t){e.$set(e.goodsDialog.goodsFrm,"produceDate",t)},expression:"goodsDialog.goodsFrm.produceDate"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"分类","label-width":e.goodsDialog.lableWidth,prop:"category.categoryId"}},[o("el-col",{attrs:{span:24}},[o("el-select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.goodsDialog.goodsFrm.category.categoryId,callback:function(t){e.$set(e.goodsDialog.goodsFrm.category,"categoryId",t)},expression:"goodsDialog.goodsFrm.category.categoryId"}},[o("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.categoryList,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.categoryId}})})],2)],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.goodsDialog.visible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var x=o("VU/8")(y,w,!1,function(e){o("lFbk")},"data-v-f75d4d60",null).exports,k={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("这是后台主页面")])},staticRenderFns:[]};var $=o("VU/8")({name:"AdminHome"},k,!1,function(e){o("6blC")},"data-v-61aa18d0",null).exports,A={name:"AdminMenu",data:function(){return{menu_modules:[]}},methods:{jump:function(e,t){var o=this.menu_modules[e].subModules[t].moduleUrl;console.log(o),this.$router.push({name:o})},loadModules:function(){var e=this,t=this.$Api.globalUrl+"/modules/list";h.a.get(t).then(function(t){e.menu_modules=t.data})}},mounted:function(){this.loadModules()}},C={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"unique-opened":"","text-color":"#333333","active-text-color":"orange"}},e._l(e.menu_modules,function(t,a){return o("el-submenu",{key:a,attrs:{index:""+a}},[o("template",{slot:"title"},[o("i",{class:t.moduleIcon}),e._v(e._s(t.moduleText))]),e._v(" "),o("el-menu-item-group",e._l(t.subModules,function(t,r){return o("el-menu-item",{key:r,attrs:{index:a+"-"+r},on:{click:function(t){return e.jump(a,r)}}},[e._v(e._s(t.moduleText))])}),1)],2)}),1)},staticRenderFns:[]};var N=o("VU/8")(A,C,!1,function(e){o("5nul")},"data-v-78ba0294",null).exports;a.default.use(d.a);var U=new d.a({routes:[{path:"/",redirect:"/admin_login"},{path:"/ele",name:"EleUI",component:g},{path:"/ele_1",name:"Ele_demo1",component:p},{path:"/admin_login",name:"AdminLogin",component:_},{path:"/main_frame",name:"MainFrame",component:D,children:[{path:"",name:"AdminHome",components:{default:N,main_view:$}},{path:"goods_mgr",name:"GoodsMgr",components:{default:N,main_view:x}}]}]}),E={globalUrl:"http://localhost:8080"};a.default.prototype.$Api=E,a.default.use(r.a),a.default.use(l.a),a.default.config.productionTip=!1;var I=new r.a.Store({state:{adminUser:{}},mutations:{setAdminUser:function(e,t){e.adminUser=t}},getters:{getAdminUser:function(e){return e.adminUser}}});new a.default({el:"#app",router:U,Api:E,store:I,components:{App:n},template:"<App/>"})},UJ7L:function(e,t){},lFbk:function(e,t){},mFdt:function(e,t){},nWrD:function(e,t){},tvR6:function(e,t){},"v4/S":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4499130c8066b339f471.js.map